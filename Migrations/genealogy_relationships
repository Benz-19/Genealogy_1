CREATE TABLE genealogy_relationships (
    ancestor_id INT NOT NULL,   -- Upline
    descendant_id INT NOT NULL, -- Downline
    depth INT NOT NULL,         
    PRIMARY KEY (ancestor_id, descendant_id),
    FOREIGN KEY (ancestor_id) REFERENCES genealogy_users(id),
    FOREIGN KEY (descendant_id) REFERENCES genealogy_users(id)
);


-- test
-- Relationships for Alex (ID 1)
INSERT INTO genealogy_relationships (ancestor_id, descendant_id, depth) VALUES 
(1, 1, 0),
(1, 2, 1),
(1, 3, 2);

-- Relationships for Garry (ID 2)
INSERT INTO genealogy_relationships (ancestor_id, descendant_id, depth) VALUES 
(2, 2, 0),
(2, 3, 1);

-- Relationships for Charles (ID 3)
INSERT INTO genealogy_relationships (ancestor_id, descendant_id, depth) VALUES 
(3, 3, 0);